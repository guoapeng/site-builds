
        <h2 id="1--%E5%89%8D%E8%A8%80" class="docs-header-link">
          <span header-link="1--%E5%89%8D%E8%A8%80"></span>
          1. 前言
        </h2>
      <p>图表帮助我们以易于理解和交互的方式可视化大量数据。在 Angular 中，我们有各种图表库来创建图表。NGX-charts 就是其中之一。</p>
<div class="dg-paragraph"><a target="_blank" href="https://swimlane.github.io/ngx-charts/#/ngx-charts/">ngx-charts</a> 是 Angular2+ 的开源声明式图表框架。它由<a target="_blank" href="https://swimlane.com/">Swimlane</a>维护 。</div>
<!-- more -->

<p>它使用 Angular 来渲染和动画 SVG 元素，并利用其所有的绑定和速度优势，并使用 d3 来实现出色的数学函数、比例、轴和形状生成器等。</p>
<p>通过让 Angular 完成所有渲染，它为我们带来了 Angular 平台提供的无限可能性，例如 AoT、Universal 等。</p>
<p>ngx-charts 支持各种图表类型，如条形图、折线图、面积图、饼图、气泡图、圆环图、仪表图、热图、树状图和数字卡片图。</p>
<p>它还支持自动缩放、时间线过滤、line interpolation、可配置轴、图例、实时数据支持等功能。</p>
<p>在本文中，我们将看到使用 Ngx-Charts 进行数据可视化以及如何在 Angx-Charts 中使用 Angx-Charts</p>
<p>我们会学到，</p>
<ul>
<li>如何在 Angular 中安装 ngx-charts ？</li>
<li>创建垂直条形图</li>
<li>创建饼图、高级饼图和饼图网格</li>
</ul>

        <h2 id="2--ngx-charts-%E5%AE%89%E8%A3%85" class="docs-header-link">
          <span header-link="2--ngx-charts-%E5%AE%89%E8%A3%85"></span>
          2. Ngx-Charts 安装
        </h2>
      <ul>
<li><p>使用以下命令创建一个新的角度应用程序</p>
<pre class="language-bash"><code class="language-bash"><div>  <span class="token function">ng</span> new ngx-charts-demo</div></code></pre>
</li>
<li><p>使用以下命令在角度应用程序中安装 ngx-charts 包。</p>
<pre class="language-bash"><code class="language-bash"><div>  <span class="token comment" spellcheck="true"># ngx-charts依赖@angular/cdk, 所以需要先安装@angular/cdk, 再安装@swimlane/ngx-charts</span>
  <span class="token function">npm</span> <span class="token function">install</span> @angular/cdk --save
  <span class="token function">npm</span> <span class="token function">install</span> @swimlane/ngx-charts --save</div></code></pre>
</li>
<li><p>导入 NgxChartsModule( from ngx-charts)模块到 AppModule 中</p>
</li>
<li><p>ngx-charts 还需要 BrowserAnimationsModule。将其导入 AppModule 中</p>
</li>
</ul>
<p>所以我们的 AppModule 最终看起来像这样：</p>
<pre class="language-ts"><code class="language-ts"><div><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@angular/platform-browser"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@angular/core"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./app.component"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NgxChartsModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@swimlane/ngx-charts"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserAnimationsModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@angular/platform-browser/animations"</span><span class="token punctuation">;</span>

@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  declarations<span class="token punctuation">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span><span class="token punctuation">,</span>
  imports<span class="token punctuation">:</span> <span class="token punctuation">[</span>BrowserModule<span class="token punctuation">,</span> BrowserAnimationsModule<span class="token punctuation">,</span> NgxChartsModule<span class="token punctuation">]</span><span class="token punctuation">,</span>
  providers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  bootstrap<span class="token punctuation">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></div></code></pre>
<p>安装步骤完成。现在让我们使用以下方法开发各种图表了。</p>

        <h2 id="3--%E5%9E%82%E7%9B%B4%E6%9D%A1%E5%BD%A2%E5%9B%BE(vertical-bar-chart)" class="docs-header-link">
          <span header-link="3--%E5%9E%82%E7%9B%B4%E6%9D%A1%E5%BD%A2%E5%9B%BE(vertical-bar-chart)"></span>
          3. 垂直条形图(Vertical Bar Chart)
        </h2>
      <p>在制作条形图之前我们需要准备一些数据, 当然在示例中这些数据是静态的, 在实际开发过程中我们可通过 restful API 从后台获取数据.
在本例中我们准备了一些简单的销售数据。我们将使用这些数据来生成各种图表。</p>
<pre class="language-ts"><code class="language-ts"><div><span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@angular/core"</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token punctuation">:</span> <span class="token string">"app-root"</span><span class="token punctuation">,</span>
  templateUrl<span class="token punctuation">:</span> <span class="token string">"./app.component.html"</span><span class="token punctuation">,</span>
  styleUrls<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"./app.component.css"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>
  saleData <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Mobiles"</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">105000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Laptop"</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">55000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"AC"</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">15000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Headset"</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">150000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"Fridge"</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token number">20000</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></div></code></pre>
<p>要生成垂直条形图，ngx-charts 提供 ngx-charts-bar-vertical 组件，将其添加到 html 模板上，如下所示：</p>
<pre class="language-html"><code class="language-html"><div><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-charts-bar-vertical</span>
  <span class="token attr-name">[view]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[1000,400]<span class="token punctuation">"</span></span>
  <span class="token attr-name">[results]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>saleData<span class="token punctuation">"</span></span>
  <span class="token attr-name">[xAxisLabel]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>Products<span class="token punctuation">'</span><span class="token punctuation">"</span></span>
  <span class="token attr-name">[legendTitle]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>Product Sale Chart<span class="token punctuation">'</span><span class="token punctuation">"</span></span>
  <span class="token attr-name">[yAxisLabel]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>Sale<span class="token punctuation">'</span><span class="token punctuation">"</span></span>
  <span class="token attr-name">[legend]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
  <span class="token attr-name">[showXAxisLabel]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
  <span class="token attr-name">[showYAxisLabel]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
  <span class="token attr-name">[xAxis]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
  <span class="token attr-name">[yAxis]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
  <span class="token attr-name">[gradient]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
<span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-charts-bar-vertical</span><span class="token punctuation">></span></span></div></code></pre>
<p>ngx-charts-bar-vertical 组件的一些重要属性说明:</p>
<ul>
<li>results: 要呈现 salesData 图表，我们需要将此数据对象分配给 results</li>
<li>view: 设置图表视图的宽度和高度</li>
<li>xAxisLabel: x 轴标签</li>
<li>legendTitle: 图例标题</li>
<li>legend : 如果要显示图例，请将其设置为 true，默认为 false</li>
<li>showXAxisLabel : 设置 true 以显示 x 轴标签</li>
<li>showYAxisLabel: 设置 true 以显示 y 轴标签。</li>
<li>xAxis / yAxis : 设置 true 以显示特定数轴</li>
<li>gradient: 将其设置为 true 以显示具有渐变背景</li>
</ul>

        <h2 id="4--%E9%A5%BC%E5%9B%BE(pie-chart)" class="docs-header-link">
          <span header-link="4--%E9%A5%BC%E5%9B%BE(pie-chart)"></span>
          4. 饼图(Pie Chart)
        </h2>
      <p>我们可以使用 ngx-charts-pie-chart 组件生成饼图。将其添加到 html 模板中，如下所示。</p>
<pre class="language-html"><code class="language-html"><div><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-charts-pie-chart</span>
  <span class="token attr-name">[results]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>saleData<span class="token punctuation">"</span></span>
  <span class="token attr-name">[legend]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
  <span class="token attr-name">[legendTitle]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>Product Sale Report<span class="token punctuation">'</span><span class="token punctuation">"</span></span>
  <span class="token attr-name">[view]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>[1000,300]<span class="token punctuation">"</span></span>
  <span class="token attr-name">[labels]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
<span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-charts-pie-chart</span><span class="token punctuation">></span></span></div></code></pre>

        <h2 id="5--advanced-%E9%A5%BC%E5%9B%BE(advanced-pie-chart)" class="docs-header-link">
          <span header-link="5--advanced-%E9%A5%BC%E5%9B%BE(advanced-pie-chart)"></span>
          5. Advanced 饼图(Advanced Pie Chart)
        </h2>
      <p>我们可以使用 ngx-charts-advanced-pie-chart 组件制作高级饼图如下:</p>
<pre class="language-html"><code class="language-html"><div><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-charts-advanced-pie-chart</span> <span class="token attr-name">[results]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>saleData<span class="token punctuation">"</span></span> <span class="token attr-name">[gradient]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-charts-advanced-pie-chart</span><span class="token punctuation">></span></span></div></code></pre>

        <h2 id="6--%E9%A5%BC%E5%9B%BE%E7%BD%91%E6%A0%BC" class="docs-header-link">
          <span header-link="6--%E9%A5%BC%E5%9B%BE%E7%BD%91%E6%A0%BC"></span>
          6. 饼图网格
        </h2>
      <p>我们可以使用 ngx-charts-pie-grid 组件制作饼图网格如下:</p>
<pre class="language-html"><code class="language-html"><div><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-charts-pie-grid</span> <span class="token attr-name">[results]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>saleData<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-charts-pie-grid</span><span class="token punctuation">></span></span></div></code></pre>
<p>我们已经使用 ngx-charts 制作了四种图表</p>

        <h2 id="7--%E6%9C%80%E7%BB%88%E4%BB%A3%E7%A0%81" class="docs-header-link">
          <span header-link="7--%E6%9C%80%E7%BB%88%E4%BB%A3%E7%A0%81"></span>
          7. 最终代码
        </h2>
      <p>示例代码可以在<a target="_blank" href="https://github.com/ngdevelop-tech/ngx-charts-demo">github - ngx-charts-demo</a>上找到</p>

        <h2 id="6--angular-%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0" class="docs-header-link">
          <span header-link="6--angular-%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0"></span>
          6. Angular 系列文章
        </h2>
      <p>最新更新以及更多 Angular 相关文章请访问 <a target="_blank" href="https://www.pengtech.net/angular/">Angular 合集 | 鹏叔的技术博客</a></p>

        <h2 id="9--%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3" class="docs-header-link">
          <span header-link="9--%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3"></span>
          9. 参考文档
        </h2>
      <div class="dg-paragraph"><a target="_blank" href="https://swimlane.gitbooks.io/ngx-charts/content/">ngx-charts 官方文档</a></div>
<div class="dg-paragraph"><a target="_blank" href="https://www.ngdevelop.tech/how-to-use-ngx-charts-in-angular">How To Use Ngx-Charts In Angular Application ?</a></div>
